(function(t){function e(e){for(var s,r,l=e[0],o=e[1],c=e[2],d=0,m=[];d<l.length;d++)r=l[d],i[r]&&m.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"30db":function(t,e,a){"use strict";var s=a("a4c0"),i=a.n(s);i.a},"3b84":function(t,e,a){},4193:function(t,e,a){},"42ff":function(t,e,a){"use strict";var s=a("3b84"),i=a.n(s);i.a},4459:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"material-kit"}},[a("div",{class:{"nav-open":t.NavbarStore.showNavbar}},[a("router-view",{attrs:{name:"header"}}),a("div",[a("router-view")],1),a("router-view",{attrs:{name:"footer"}})],1)])},n=[],r=a("2877"),l={},o=Object(r["a"])(l,i,n,!1,null,null,null),c=o.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("parallax",{staticClass:"section page-header header-filter",style:t.headerStyle},[a("div",{staticClass:"container"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item"},[a("h1",{staticClass:"title"},[t._v("UTDA画像検索")]),a("br"),a("md-button",{staticClass:"md-success md-lg",attrs:{to:{name:"search"}}},[a("i",{staticClass:"fas fa-search"}),t._v("試してみる\n          ")])],1)])])]),a("div",{staticClass:"main main-raised"},[t._m(0),a("div",{staticClass:"section",attrs:{id:"example"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-66 md-xsmall-size-100 mx-auto text-center"},[a("h2",{staticClass:"title text-center"},[t._v("検索例")]),a("div",{staticClass:"md-layout"},t._l(t.items,function(t,e){return a("div",{key:e,staticClass:"md-layout-item md-size-33 md-xsmall-size-100"},[a("router-link",{attrs:{to:{name:"search",query:{url:t.thumbnail}}}},[a("img",{staticClass:"rounded img-raised img-fluid",attrs:{src:t.thumbnail,alt:"Rounded Image"}})]),a("h4",[a("md-button",{staticClass:"md-just-icon md-simple md-dribbble",attrs:{to:{name:"search",query:{url:t.thumbnail}}}},[a("i",{staticClass:"fa fa-search"})])],1)],1)}),0)])])])])])],1)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section",attrs:{id:"about"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-66 md-xsmall-size-100 mx-auto text-center"},[a("h2",{staticClass:"title text-center"},[t._v("About")]),a("h5",{staticClass:"description"},[t._v("\n                東京大学学術資産等アーカイブズポータルで公開されている画像を検索できます。\n            ")]),a("h5",{staticClass:"description"},[t._v("\n                "),a("a",{attrs:{href:"http://image-net.org/challenges/LSVRC/2012/"}},[t._v("ImageNet 2012")]),t._v("で学習した"),a("a",{attrs:{href:"https://www.cs.unc.edu/~wliu/papers/GoogLeNet.pdf"}},[t._v("Inception")]),t._v("\n              Convolutional Neural Networkを用いて抽出した特徴量に対して、"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Nearest_neighbor_search#Approximate_nearest_neighbor"}},[t._v("近似最近傍探索")]),t._v("を用いた類似画像検索を行います。\n            ")])])])])])}],p={bodyClass:"landing-page",props:{header:{type:String,default:a("d4b8")}},data:function(){return{items:[{thumbnail:"https://da.dl.itc.u-tokyo.ac.jp/portal/sites/default/files/images/assets/1333099054093.jpg"},{thumbnail:"https://da.dl.itc.u-tokyo.ac.jp/portal/sites/default/files/images/assets/1332747896774.jpg"},{thumbnail:"https://da.dl.itc.u-tokyo.ac.jp/portal/sites/default/files/images/assets/miyake/f84c5dab77dd8daaf693d846309ddc8f.jpg"},{thumbnail:"https://da.dl.itc.u-tokyo.ac.jp/portal/sites/default/files/images/assets/kahei/0a8c63313d3739395176e7378b2a5601_0.jpg"},{thumbnail:"https://da.dl.itc.u-tokyo.ac.jp/portal/sites/default/files/images/assets/enshurin_tori/b1a2a77d-5247-4c96-9b72-e48cdbedd983.jpg"},{thumbnail:"https://da.dl.itc.u-tokyo.ac.jp/portal/sites/default/files/images/assets/tokoro/116d52d2-ffb7-4119-a8da-768ee9499e89_2.jpg"}]}},computed:{headerStyle:function(){return{backgroundImage:"url(".concat(this.header,")")}}}},f=p,h=(a("42ff"),Object(r["a"])(f,d,m,!1,null,"33f4ef14",null)),v=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("parallax",{staticClass:"section page-header header-filter",style:t.headerStyle}),a("div",{staticClass:"main main-raised"},[a("div",{staticClass:"section text-center"},[a("div",{staticClass:"container"},[a("form",{staticClass:"contact-form"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-66 mx-auto"},[a("div",{staticClass:"md-field md-theme-default"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"md-input",attrs:{placeholder:"Image URL: e.g. http://...jpg",type:"text",id:"md-input-czbyynxyg"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})])])]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item mx-auto"},[a("button",{staticClass:"md-button md-success md-theme-default",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){null!=t.url&&t.$router.push({query:{url:t.url}})}}},[t._m(0)]),a("button",{staticClass:"md-button md-primary md-theme-default",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){null!=t.url&&t.$router.push({query:{}}),t.search()}}},[t._m(1)]),null!=t.url?a("button",{staticClass:"md-button md-theme-default",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){t.classicModal=!0}}},[t._m(2)]):t._e()])])]),a("div",{staticClass:"md-layout"},[null!=this.url?a("div",{staticClass:"md-layout-item mx-auto"},[a("br"),a("img",{staticClass:"img-raised img-fluid",staticStyle:{height:"150px","margin-right":"10px","margin-left":"10px"},attrs:{src:t.url,alt:"Image"}}),null!=t.crop_dataurl?a("img",{staticClass:"img-raised img-fluid",staticStyle:{height:"150px","margin-right":"10px","margin-left":"10px"},attrs:{src:t.crop_dataurl,alt:"Image"}}):t._e()]):t._e()]),t.classicModal?a("modal",{on:{close:t.classicModalHide}},[a("template",{slot:"header"},[a("md-button",{staticClass:"md-simple md-just-icon md-round modal-default-button",on:{click:t.classicModalHide}},[a("md-icon",[t._v("clear")])],1)],1),a("template",{slot:"body"},[a("br"),a("div",{staticStyle:{height:"400px"}},[a("vue-cropper",{ref:"cropper",attrs:{guides:!0,"view-mode":2,"drag-mode":"crop","auto-crop-area":1,"min-container-width":250,"min-container-height":180,background:!0,rotatable:!0,src:t.url,alt:"Source Image","img-style":{height:"400px"}}})],1),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item mx-auto"},[a("button",{staticClass:"md-button md-success md-theme-default ",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:function(e){t.crop_dataurl=t.$refs.cropper.getCroppedCanvas().toDataURL(),t.$router.push({query:{url:t.url,dataurl:t.crop_dataurl}})}}},[a("div",{staticClass:"md-ripple"},[a("div",{staticClass:"md-button-content"},[a("i",{staticClass:"fa fa-search"}),t._v(" 検索\n                    ")])])]),a("button",{staticClass:"md-button md-primary md-theme-default",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:t.rotate}},[a("div",{staticClass:"md-ripple"},[a("div",{staticClass:"md-button-content"},[t._v("回転")])])])])])])],2):t._e(),a("br"),a("br"),a("div",{staticClass:"md-layout"},[this.loading?a("div",{staticClass:"md-layout-item mx-auto"},[a("br"),a("img",{attrs:{width:"45px",src:"https://secure.moneypak.com/cmsfolder/content/images/ring-alt_1.gif"}}),a("br")]):t._e()]),a("div",{staticClass:"md-layout"},t._l(t.items,function(e,s){return a("div",{key:s,staticClass:"md-layout-item md-size-20 md-xsmall-size-100"},[a("router-link",{attrs:{to:{name:"search",query:{url:e.thumbnail}}}},[a("img",{staticClass:"img-raised img-fluid",attrs:{src:e.thumbnail,alt:"Image"}})]),a("h4",[t._v(t._s(e.label))]),a("p",[a("span",[e.score?a("md-progress-bar",{staticClass:"md-info",attrs:{"md-value":100*e.score}}):t._e(),a("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("類似度: "+t._s(Math.ceil(100*e.score))+"%")])],1),t._l(e.metadata,function(e,s){return a("router-link",{key:s,attrs:{to:{name:"search",query:{where_metadata_label:e.label,where_metadata_value:e.value}}}},[a("badge",{attrs:{type:"default"}},[t._v(t._s(e.label)+": "+t._s(e.value))]),t._v(" \n              ")],1)}),e.metadata.length>0?a("br"):t._e(),a("md-button",{staticClass:"md-just-icon md-simple md-dribbble",on:{click:function(a){return t.$router.push({query:{url:e.thumbnail}})}}},[a("i",{staticClass:"material-icons"},[t._v("search")])]),a("md-button",{staticClass:"md-just-icon md-simple md-twitter",attrs:{target:"_blank",href:e.url}},[a("i",{staticClass:"material-icons"},[t._v("open_in_new")])])],2)],1)}),0)],1)])])],1)},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-ripple"},[a("div",{staticClass:"md-button-content"},[a("i",{staticClass:"fa fa-search"}),t._v(" 検索\n                  ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-ripple"},[a("div",{staticClass:"md-button-content"},[t._v("ランダム")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-ripple"},[a("div",{staticClass:"md-button-content"},[t._v("画像操作")])])}],y=(a("386d"),a("bc3a")),_=a.n(y),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],class:[{open:t.isOpen},{dropdown:"down"===t.direction},{dropup:"up"===t.direction}],on:{click:t.toggleDropDown}},[t._t("title",[a("a",{staticClass:"dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"javascript:void(0)"}},[a("i",{class:t.icon}),a("p",[t._v(t._s(t.title))])])]),t._t("default")],2)},x=[],w={name:"drop-down",props:{direction:{type:String,default:"down"},multiLevel:{type:Boolean,default:!1},title:String,icon:String},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.multiLevel?this.isOpen=!0:this.isOpen=!this.isOpen},closeDropDown:function(){this.isOpen=!1}}},k=w,S=Object(r["a"])(k,C,x,!1,null,null,null),j=S.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:t.styles},[t._t("default")],2)},P=[];function $(t,e,a){var s;return function(){var i=this,n=arguments;clearTimeout(s),s=setTimeout(function(){s=null,a||t.apply(i,n)},e),a&&!s&&t.apply(i,n)}}var N={name:"parallax",data:function(){return{styles:{},debounceTimeout:6}},methods:{handleScroll:function(t){var e=t/3;this.styles={transform:"translate3d(0, ".concat(e,"px,0)")}},checkForParallax:function(t){var e=this,a=$(function(){return e.handleScroll(t)},this.debounceTimeout);a()}},mounted:function(){var t=this;window.addEventListener("scroll",function(){if(window.innerWidth>991){var e=this.scrollY;t.checkForParallax(e)}})}},E=N,D=Object(r["a"])(E,O,P,!1,null,null,null),T=D.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"pagination",class:t.paginationClass},[a("li",{staticClass:"page-item prev-page",class:{disabled:1===t.value,"no-arrows":t.noArrows}},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:t.prevPage}},[t.withText?[t._v("Prev")]:a("i",{staticClass:"fas fa-angle-double-left"})],2)]),t._l(t.range(t.minPage,t.maxPage),function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.value===e}},[a("a",{staticClass:"page-link",on:{click:function(a){return t.changePage(e)}}},[t._v(t._s(e))])])}),a("li",{staticClass:"page-item page-pre next-page",class:{disabled:t.value===t.totalPages,"no-arrows":t.noArrows}},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:t.nextPage}},[t.withText?[t._v("Next")]:a("i",{staticClass:"fas fa-angle-double-right"})],2)])],2)},A=[],B=(a("c5f6"),a("6762"),a("2fdb"),{name:"pagination",props:{type:{type:String,default:"primary",validator:function(t){return["default","primary","danger","success","warning","info","rose"].includes(t)}},withText:Boolean,noArrows:Boolean,pageCount:{type:Number,default:0},perPage:{type:Number,default:10},total:{type:Number,default:0},value:{type:Number,default:1}},computed:{paginationClass:function(){return"pagination-".concat(this.type)},totalPages:function(){return this.pageCount>0?this.pageCount:this.total>0?Math.ceil(this.total/this.perPage):1},pagesToDisplay:function(){return this.totalPages>0&&this.totalPages<this.defaultPagesToDisplay?this.totalPages:this.defaultPagesToDisplay},minPage:function(){if(this.value>=this.pagesToDisplay){var t=Math.floor(this.pagesToDisplay/2),e=t+this.value;return e>this.totalPages?this.totalPages-this.pagesToDisplay+1:this.value-t}return 1},maxPage:function(){if(this.value>=this.pagesToDisplay){var t=Math.floor(this.pagesToDisplay/2),e=t+this.value;return e<this.totalPages?e:this.totalPages}return this.pagesToDisplay}},data:function(){return{defaultPagesToDisplay:5}},methods:{range:function(t,e){for(var a=[],s=t;s<=e;s++)a.push(s);return a},changePage:function(t){this.$emit("input",t)},nextPage:function(){this.value<this.totalPages&&this.$emit("input",this.value+1)},prevPage:function(){this.value>1&&this.$emit("input",this.value-1)}},watch:{perPage:function(){this.$emit("input",1)},total:function(){this.$emit("input",1)}}}),I=B,L=Object(r["a"])(I,M,A,!1,null,null,null),q=(L.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slider",class:["slider-"+t.type],attrs:{disabled:t.disabled}})}),z=[],H=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),U=a("e9fa"),R=a.n(U);function V(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?V(a,!0).forEach(function(e){Object(H["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var J,Y={name:"slider",props:{value:[String,Array,Number],disabled:Boolean,start:{type:[Number,Array],default:0},connect:{type:[Boolean,Array],default:function(){return[!0,!1]}},range:{type:Object,default:function(){return{min:0,max:100}}},type:{type:String,default:""},options:{type:Object,default:function(){return{}}}},data:function(){return{slider:null}},methods:{createSlider:function(){var t=this;R.a.create(this.$el,F({start:this.value||this.start,connect:this.connect,range:this.range},this.options));var e=this.$el.noUiSlider;e.on("slide",function(){var a=e.get();a!==t.value&&t.$emit("input",a)})}},mounted:function(){this.createSlider()},watch:{value:function(t,e){var a=this.$el.noUiSlider,s=a.get();t!==e&&s!==t&&(Array.isArray(s)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,a){return e===t[a]})&&a.set(t):a.set(t))}}},G=Y,W=Object(r["a"])(G,q,z,!1,null,null,null),K=W.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.tag,{tag:"component",staticClass:"badge",class:"badge-"+t.type},[t._t("default")],2)},X=[],Z={name:"badge",props:{tag:{type:String,default:"span"},type:{type:String,default:"default",validator:function(t){var e=["primary","info","success","warning","danger","rose","default"];return-1!==e.indexOf(t)}}}},tt=Z,et=Object(r["a"])(tt,Q,X,!1,null,null,null),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",{staticClass:"md-card-nav-tabs",class:{"no-label":t.noLabel,"md-card-plain":t.tabsPlain}},[a("md-card-content",[t._t("content")],2)],1)},it=[],nt={name:"nav-tabs-card",props:{noLabel:Boolean,tabsPlain:Boolean}},rt=nt,lt=Object(r["a"])(rt,st,it,!1,null,null,null),ot=(lt.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",{staticClass:"md-card-login",class:{"md-card-hidden":t.cardHidden}},[a("md-card-header",{class:t.getClass(t.headerColor)},[t._t("title"),a("div",{staticClass:"social-line"},[t._t("buttons")],2)],2),a("md-card-content",[t._t("description"),t._t("inputs")],2),a("md-card-actions",[t._t("footer")],2)],1)}),ct=[],ut={name:"login-card",props:{headerColor:{type:String,default:""}},data:function(){return{cardHidden:!0}},beforeMount:function(){setTimeout(this.showCard,400)},methods:{showCard:function(){this.cardHidden=!1},getClass:function(t){return"md-card-header-"+t}}},dt=ut,mt=Object(r["a"])(dt,ot,ct,!1,null,null,null),pt=(mt.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",{staticClass:"md-card-tabs",class:[{"flex-column":t.flexColumn},{"nav-pills-icons":t.navPillsIcons},{"md-card-plain":t.plain}]},[a("md-card-header",{attrs:{slot:"header-title"},slot:"header-title"}),a("md-card-content",[a("md-list",{staticClass:"nav-tabs"},t._l(t.tabName,function(e,s){var i;return a("md-list-item",{key:e,class:[{active:t.isActivePanel(t.tabName[s])},(i={},i[t.getColorButton(t.colorButton)]=t.isActivePanel(t.tabName[s]),i)],on:{click:function(e){return t.switchPanel(t.tabName[s])}}},[t._v("\n        "+t._s(t.tabName[s])+"\n        "),t.navPillsIcons?a("md-icon",[t._v(t._s(t.tabIcon[s]))]):t._e()],1)}),1),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("div",{staticClass:"tab-content"},t._l(t.tabName,function(e,s){return t.isActivePanel(t.tabName[s])?a("div",{key:e,class:t.getTabContent(s+1)},[t._t(t.getTabContent(s+1),[t._v("\n            This is the default text!\n          ")])],2):t._e()}),0)])],1)],1)}),ft=[],ht={props:{flexColumn:Boolean,navPillsIcons:Boolean,plain:Boolean,tabName:Array,tabIcon:Array,colorButton:{type:String,default:""}},data:function(){return{activePanel:this.tabName[0]}},methods:{switchPanel:function(t){this.activePanel=t},isActivePanel:function(t){return this.activePanel==t},getColorButton:function(t){return"md-"+t},getTabContent:function(t){return"tab-pane-"+t}}},vt=ht,gt=Object(r["a"])(vt,pt,ft,!1,null,null,null),bt=(gt.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeModal,expression:"closeModal"}],staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[t._t("header")],2),a("div",{staticClass:"modal-body text-center"},[t._t("body")],2),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])}),yt=[],_t={name:"modal",methods:{closeModal:function(){this.$emit("close")}}},Ct=_t,xt=(a("30db"),Object(r["a"])(Ct,bt,yt,!1,null,null,null)),wt=xt.exports,kt=a("95c3"),St=a.n(kt),jt=(a("6107"),{components:{Badge:at,Slider:K,VueCropper:St.a,Modal:wt},bodyClass:"profile-page",data:function(){return{url:null,items:[],number:60,loading:!0,prefix:"http://portal-i.dl.itc.u-tokyo.ac.jp",crop_dataurl:null,classicModal:!1}},props:{header:{type:String,default:a("d4b8")}},watch:{$route:function(){this.search()}},computed:{headerStyle:function(){return{backgroundImage:"url(".concat(this.header,")")}}},methods:{search:function(){this.url=null,this.crop_dataurl=null,this.classicModal=!1;var t=Object.assign({},this.$route.query);this.loading=!0,this.items=[],t.where_metadata_label?this.search_metadata(t.where_metadata_label,t.where_metadata_value):t.url?(this.url=t.url,t.dataurl?(this.crop_dataurl=t.dataurl,this.search_url(t.dataurl)):this.search_url(t.url)):this.search_random()},search_random:function(){var t=this,e=this.prefix+"/api/random",a={};a.rows=this.number,_.a.get(e,{params:a}).then(function(e){t.loading=!1,t.items=e.data})},search_url:function(t){var e=this,a=new URLSearchParams;a.append("url",t),a.append("rows",this.number);var s=this.prefix+"/api/asearch";_.a.post(s,a).then(function(t){e.loading=!1,e.items=t.data})},search_metadata:function(t,e){var a=this,s={};s.where_metadata_label=t,s.where_metadata_value=e,s.rows=this.number;var i=this.prefix+"/api/msearch";_.a.get(i,{params:s}).then(function(t){a.loading=!1,a.items=t.data})},rotate:function(){this.$refs.cropper.rotate(90)},classicModalHide:function(){this.classicModal=!1}},created:function(){this.search()}}),Ot=jt,Pt=(a("5d4c"),Object(r["a"])(Ot,g,b,!1,null,"42b10d0b",null)),$t=Pt.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("parallax",{staticClass:"section page-header header-filter",style:t.headerStyle}),a("div",{staticClass:"main main-raised"},[a("div",{staticClass:"section"},[a("div",{staticClass:"container"},[t._l(t.items,function(e,s){return[a("h2",{key:s,staticClass:"title text-center"},[t._v(t._s(s))]),a("div",{key:s,staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-66 mx-auto"},t._l(e,function(e,i){return a("md-button",{key:i,attrs:{to:{name:"search",query:{where_metadata_label:s,where_metadata_value:i}}}},[a("i",{staticClass:"fas fa-tag"}),t._v(" "+t._s(i)+": "+t._s(e))])}),1)])]})],2)])])],1)},Et=[],Dt={components:{Badge:at,Slider:K},bodyClass:"profile-page",data:function(){return{items:{},prefix:"http://portal-i.dl.itc.u-tokyo.ac.jp"}},props:{header:{type:String,default:a("d4b8")}},computed:{headerStyle:function(){return{backgroundImage:"url(".concat(this.header,")")}}},methods:{search:function(){var t=this;this.loading=!0,this.items={};var e=this.prefix+"/api/metadata";_.a.get(e).then(function(e){t.loading=!1,t.items=e.data,console.log(t.items)}).catch(function(t){console.log(t)})}},created:function(){this.search()}},Tt=Dt,Mt=(a("dd75"),Object(r["a"])(Tt,Nt,Et,!1,null,"e4bbbd0c",null)),At=Mt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-toolbar",{staticClass:"md-transparent md-absolute",class:t.extraNavClasses,attrs:{id:"toolbar","md-elevation":"0","color-on-scroll":t.colorOnScroll}},[a("div",{staticClass:"md-toolbar-row md-collapse-lateral"},[a("div",{staticClass:"md-toolbar-section-start"},[a("h3",{staticClass:"md-title"},[t._v("UTDA画像検索")])]),a("div",{staticClass:"md-toolbar-section-end"},[a("md-button",{staticClass:"md-just-icon md-simple md-toolbar-toggle",class:{toggled:t.toggledClass},on:{click:function(e){return t.toggleNavbarMobile()}}},[a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"})]),a("div",{staticClass:"md-collapse"},[a("div",{staticClass:"md-collapse-wrapper"},[a("mobile-menu",{attrs:{"nav-mobile-section-start":"false"}}),a("md-list",[a("md-list-item",{attrs:{to:{name:"index"}}},[a("i",{staticClass:"material-icons"},[t._v("home")]),a("p",[t._v("HOME")])]),a("md-list-item",{attrs:{to:{name:"search"}}},[a("i",{staticClass:"material-icons"},[t._v("search")]),a("p",[t._v("画像検索")])]),a("md-list-item",{attrs:{to:{name:"metadata"}}},[a("i",{staticClass:"material-icons"},[t._v("list")]),a("p",[t._v("メタデータ検索")])]),a("md-list-item",{attrs:{target:"_blank",href:"https://nakamura196.github.io/sim_utda/"}},[a("i",{staticClass:"material-icons"},[t._v("3d_rotation")]),a("p",[t._v("可視化")])])],1)],1)])],1)])])},It=[],Lt=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return"true"===t.navMobileSectionStart?a("md-list",{staticClass:"nav-mobile-menu nav-mobile-section-start"},[t._t("default")],2):t._e()}),qt=[],zt={name:"mobile-menu",props:{navMobileSectionStart:{type:String,default:"false"}}},Ht=zt,Ut=Object(r["a"])(Ht,Lt,qt,!1,null,null,null),Rt=Ut.exports;function Vt(t){J||(J=setTimeout(function(){J=null,t()},66))}var Ft={components:{MobileMenu:Rt},props:{type:{type:String,default:"white",validator:function(t){return["white","default","primary","danger","success","warning","info"].includes(t)}},colorOnScroll:{type:Number,default:0}},data:function(){return{extraNavClasses:"",toggledClass:!1}},computed:{showDownload:function(){var t=this,e=["login","landing","profile"];return e.every(function(e){return e!==t.$route.name})}},methods:{bodyClick:function(){var t=document.getElementById("bodyClick");if(null===t){var e=document.querySelector("body"),a=document.createElement("div");a.setAttribute("id","bodyClick"),e.appendChild(a);var s=document.getElementById("bodyClick");s.addEventListener("click",this.toggleNavbarMobile)}else t.remove()},toggleNavbarMobile:function(){this.NavbarStore.showNavbar=!this.NavbarStore.showNavbar,this.toggledClass=!this.toggledClass,this.bodyClick()},handleScroll:function(){var t=document.body.scrollTop||document.documentElement.scrollTop,e=document.getElementById("toolbar");this.currentScrollValue=t,this.colorOnScroll>0&&t>this.colorOnScroll?(this.extraNavClasses="md-".concat(this.type),e.classList.remove("md-transparent")):this.extraNavClasses&&(this.extraNavClasses="",e.classList.add("md-transparent"))},scrollListener:function(){Vt(this.handleScroll)},scrollToElement:function(){var t=document.getElementById("downloadSection");t&&t.scrollIntoView({block:"end",behavior:"smooth"})}},mounted:function(){document.addEventListener("scroll",this.scrollListener)},beforeDestroy:function(){document.removeEventListener("scroll",this.scrollListener)}},Jt=Ft,Yt=Object(r["a"])(Jt,Bt,It,!1,null,null,null),Gt=Yt.exports,Wt=function(){var t,e=this,a=e.$createElement,s=e._self._c||a;return s("footer",{staticClass:"footer",class:(t={},t["footer-"+e.type]=e.type,t),attrs:{"data-background-color":e.backgroundColor}},[e._m(0)])},Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("nav",[a("ul",[a("li",[a("a",{attrs:{href:"https://da.dl.itc.u-tokyo.ac.jp/portal"}},[t._v("\n            東京大学学術資産等アーカイブズポータル\n          ")])])])]),a("div",{staticClass:"copyright"},[t._v("\n      東京大学学術資産等アーカイブズ委員会事務局"),a("br"),t._v("\n      （東京大学附属図書館総務課／ "),a("br"),t._v("\n      学術資産アーカイブ化推進室） "),a("br"),t._v("\n      E-mail：digital-archive [at] lib.u-tokyo.ac.jp\n      "),a("hr"),t._v("\n      Design from "),a("a",{attrs:{href:"https://www.creative-tim.com/"}},[t._v("Creative Tim")]),t._v(".\n    ")])])}],Qt={props:{backgroundColor:String,type:String},data:function(){return{year:(new Date).getFullYear()}}},Xt=Qt,Zt=Object(r["a"])(Xt,Wt,Kt,!1,null,null,null),te=Zt.exports;s["default"].use(u["a"]);var ee=new u["a"]({routes:[{path:"/",name:"index",components:{default:v,header:Gt,footer:te},props:{header:{colorOnScroll:100},footer:{backgroundColor:"black"}}},{path:"/search",name:"search",components:{default:$t,header:Gt,footer:te},props:{header:{colorOnScroll:10},footer:{backgroundColor:"black"}}},{path:"/metadata",name:"metadata",components:{default:At,header:Gt,footer:te},props:{header:{colorOnScroll:10},footer:{backgroundColor:"black"}}}],scrollBehavior:function(t){return t.hash?{selector:t.hash}:{x:0,y:0}}}),ae=a("43f9"),se=a.n(ae),ie=(a("51de"),a("60b6"),a("4459"),a("c7db")),ne={install:function(t){t.directive("click-outside",ie["directive"])}},re=ne,le={install:function(t){t.mixin({mounted:function(){var t=this.$options.bodyClass;t&&document.body.classList.add(t)},beforeDestroy:function(){var t=this.$options.bodyClass;t&&document.body.classList.remove(t)}})}},oe=le,ce=a("e37d"),ue={install:function(t){t.component("drop-down",j),t.component(T.name,T),t.component("v-popover",ce["a"])}},de=ue,me=a("caf9"),pe=a("0a63"),fe=a.n(pe),he={install:function(t){t.use(se.a),t.use(re),t.use(oe),t.use(de),t.use(fe.a),t.use(me["a"],{observer:!0,observerOptions:{rootMargin:"0px",threshold:.1}})}};s["default"].config.productionTip=!1,s["default"].use(he);var ve={showNavbar:!1};s["default"].mixin({data:function(){return{NavbarStore:ve}}}),new s["default"]({router:ee,render:function(t){return t(c)}}).$mount("#app")},"5d4c":function(t,e,a){"use strict";var s=a("fe73"),i=a.n(s);i.a},"60b6":function(t,e,a){},a4c0:function(t,e,a){},d4b8:function(t,e,a){t.exports=a.p+"static/img/bg7.231d4fce.jpg"},dd75:function(t,e,a){"use strict";var s=a("4193"),i=a.n(s);i.a},fe73:function(t,e,a){}});
//# sourceMappingURL=app.6dda4c91.js.map